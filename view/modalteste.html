<!DOCTYPE html>
<html lang=pt-br>
    <head>
        <title>eoq</title>

        <meta charset="UTF-8"> <!-- ISO-8859-1 -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content=" ">
        <meta name="keywords" content=" "> <!-- Opcional -->
        <meta name="author" content="">

        <!-- favicon, arquivo de imagem podendo ser 8x8 - 16x16 - 32x32px com extensão .ico -->
        <link rel="shortcut icon" href="imagens/favicon.ico" type="image/x-icon">

        <!-- CSS PADRÃO -->
       

      
        <!-- JS-->

        <script src="lib/_jquery/jquery.js"></script>
        <script src="js/js.js"></script>
        <!-- Font Awesome-->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

        <!-- cropp-->
        <script src="http://demo.itsolutionstuff.com/plugin/croppie.js"></script>
        <link rel="stylesheet" href="http://demo.itsolutionstuff.com/plugin/bootstrap-3.min.css">
        <link rel="stylesheet" href="http://demo.itsolutionstuff.com/plugin/croppie.css">
      </head>
      <body>
      
      
      <div class="container">
          <div class="panel panel-default">
            <div class="panel-heading">Image Upluad</div>
            <div class="panel-body">
      
      
                <div class="row">
                    <div class="col-md-4 text-center">
                      <div id="upload-demo" style="width:350px"></div>
                    </div>
                    <div class="col-md-4" style="padding-top:30px;">
                      <strong>Select Image:</strong>
                      <br/>
                      <form>
                      <input type="file" id="upload">
                    </form>
                      <br/>
                      <button class="btn btn-success upload-result">Upload Image</button>
                    </div>
                    <div class="col-md-4" style="">
                      <div id="upload-demo-i" style="background:#e1e1e1;width:300px;padding:30px;height:300px;margin-top:30px"></div>
                    </div>
                </div>
      
      
            </div>
          </div>
      </div>
      
      
      <script type="text/javascript">
      $uploadCrop = $('#upload-demo').croppie({
          enableExif: true,
          viewport: {
              width: 200,
              height: 200,
              type: 'circle'
          },
          boundary: {
              width: 300,
              height: 300
          }
      });
      
      
      $('#upload').on('change', function () { 
          var reader = new FileReader();
          reader.onload = function (e) {
              $uploadCrop.croppie('bind', {
                  url: e.target.result
              }).then(function(){
                  console.log('jQuery bind complete');
              });
              
          }
          reader.readAsDataURL(this.files[0]);
      });
      
      
      $('.upload-result').on('click', function (ev) {
          $uploadCrop.croppie('result', {
              type: 'canvas',
              size: 'viewport'
          }).then(function (resp) {
      
      
  
                      html = '<img src="' + resp + '" />';
                      $("#upload-demo-i").html(html);
                
              
          });
      });
      
      
      </script>

      <script>
    //    $('.my-image').croppie('result', { type: 'html', size: 'original', format: 'png' }).then(function (result) {
    //       // In production code I double check the size here before passing the image to the server.
          
    //       $('.my-image').croppie('result', { type: 'base64', size: { width: 720, height: 350 }, format: 'png' }).then(function (result) {
    //           // The server expects the image as a base64 string, so I then convert it to base64 and pass it via AJAX. The size is wrong at this point.
              
    //           $('#results').attr('src', result);
              
    //           setTimeout(function(){
    //               $('#width').text("Width: " + $('#results').width() + "px")
    //               $('#height').text("Height: " + $('#results').height() + "px")
    //           }, 50);
    //       });
    //   });
      </script>
      
      
      </body>
      </html>